# Multi Tab Session

## TL;DR
Use [SessionManager](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/SessionManager.cs) to enable clients to have multiple, independent client sessions per browser tab. This is useful when an application needs to allow different browser tabs to behave independently over a single server session.

## Summary
This example shows how to create and utilize a unique client session per browser tab in ASP.NET Core. Given an application that has multiple contexts in which a user can access, we want to be able to context switch by having unique "client sessions" that act over a single user server session. The [SessionManager](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/SessionManager.cs) is composed of three components: [SessionService](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/Components/SessionService.cs), [SessionValidator](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/Components/SessionValidator.cs) and [SessionLocker](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/Components/SessionLocker.cs). We can define our application context or state and request a [SessionManager](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/SessionManager.cs) instance of that type after we've registered it with our DI container. The [SessionService](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/Components/SessionService.cs) handles operations directly on the HttpContext session. The [SessionValidator](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/Components/SessionValidator.cs) holds validation logic for our context and the [SessionLocker](https://github.com/jzills/MultiTabSession/blob/master/Source/Session/Components/SessionLocker.cs) locks around session mutation by browser session. This limits locking to only tabs belonging to a given browser. These locks are placed in IMemoryCache with a sliding expirationg short enough to reduce memory usage from idle client sessions.
